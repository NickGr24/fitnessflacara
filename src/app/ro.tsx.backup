import HomePageClient from '@/components/HomePageClient';

export default async function HomePage({
  params
}: {
  params: Promise<{ locale: string }>
}) {
  const { locale } = await params;

  let messages: any = {};
  try {
    const messageModule = await import(`../../messages/${locale}.json`);
    messages = messageModule.default;
  } catch (error) {
    console.error('Failed to load messages:', error);
    // Fallback to Romanian
    try {
      const fallbackModule = await import(`../../messages/ro.json`);
      messages = fallbackModule.default;
    } catch (fallbackError) {
      console.error('Failed to load fallback messages:', fallbackError);
    }
  }

  const data = messages.home || {};

  return <HomePageClient data={data} locale={locale} />;
}